<div class="p-4">
<!-- Dialog Title -->
<h2 class="text-xl font-semibold text-gray-800 mb-4">Upload Document</h2>

<!-- Dialog Content -->
<div class="p-4">
  <form
    [formGroup]="uploadForm"
    (ngSubmit)="onUpload()"
    class="flex flex-col gap-4"
  >
    <!-- Document Title -->
    <div>
      <label for="title" class="block text-sm font-medium text-gray-700 mb-1">
        Document Title
      </label>
      <input
        id="title"
        type="text"
        formControlName="title"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm 
               focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
      />
    </div>

    <!-- Description -->
    <div>
      <label for="description" class="block text-sm font-medium text-gray-700 mb-1">
        Description (Optional)
      </label>
      <textarea
        id="description"
        formControlName="description"
        rows="3"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm 
               focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
      ></textarea>
    </div>

    <!-- File Upload -->
    <div class="flex items-center">
      <button
        type="button"
        (click)="fileInput.click()"
        class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 
               bg-white hover:bg-gray-100 transition"
      >
        Choose File
      </button>
      <input
        hidden
        (change)="onFileSelected($event)"
        #fileInput
        type="file"
        accept=".pdf,.docx"
      />
      <span class="ml-4 text-sm text-gray-600" *ngIf="selectedFile">
        {{ selectedFile.name }}
      </span>
    </div>

    <!-- Progress Bar -->
    <div class="w-full bg-gray-200 rounded-full h-2" *ngIf="uploadProgress !== null">
      <div
        class="bg-blue-600 h-2 rounded-full transition-all duration-300"
        [style.width.%]="uploadProgress"
      ></div>
    </div>
  </form>
</div>

<!-- Dialog Actions -->
<div class="flex justify-end gap-2 mt-4">
  <button
    type="button"
    (click)="onCancel()"
    class="px-4 py-2 rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-100"
  >
    Cancel
  </button>

  <button
    type="submit"
    [disabled]="!uploadForm.valid || !selectedFile || uploadProgress !== null"
    class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 
           disabled:opacity-50 transition"
  >
    Upload
  </button>
</div>
</div>